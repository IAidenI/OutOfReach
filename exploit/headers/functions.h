#ifndef EXPLOIT_H
#define EXPLOIT_H

#include <stdio.h>
#include <stdlib.h>
#include <fcntl.h>
#include <unistd.h>
#include <sys/ptrace.h>
#include <string.h>
#include <sys/wait.h>
#include <stdint.h>
#include <stddef.h>
#include <math.h>

#define PATH_SIZE  64
#define LINE_SIZE  512
#define CHUNK_SIZE 0x4000

#define EXPECT_POSX  0.0f
#define EXPECT_POSY  2.0f
#define EXPECT_POSZ  0.0f
#define EXPECT_SPEED 5.0f
#define EXPECT_SENSI 0.6f
#define EPSILON 0.0001f

typedef struct {
    uintptr_t positionX;
    uintptr_t positionY;
    uintptr_t positionZ;
} RuntimeAddr;

// ---- Simule le joueur pour trouver les offsets ----
typedef struct {
    float x;
    float y;
    float z;
} Position3D;

typedef struct {
    float x;
    float y;
} Position2D;

typedef struct {
    Position3D position;
    float speed;
    float sensitivity;
} Player;

// Lecture/Ecriture de la m√©moire
int GetValue(int memoryFile, off_t address, float *getValue);
int SetValue(int memoryFile, off_t address, float newValue);
int isCloseFloat(float a, float b, float eps);
int ScanSegment(int fp, unsigned long addrStart, unsigned long addrEnd, uintptr_t *playerAddr);
int FindPlayer(int pid, uintptr_t *playerAddr);

int Teleport(int memoryFile, Position3D newPosition, RuntimeAddr address);

#endif // EXPLOIT_H
